{
  "name": "LocationFinder",
  "displayName": "å¤šæºåœ°ç†ä½ç½®å®šä½å™¨",
  "version": "3.0.0",
  "description": "æ™ºèƒ½å¤šæºåœ°ç†ä½ç½®å®šä½ç³»ç»Ÿï¼Œæ•´åˆIPå®šä½ã€åœ°å›¾æœåŠ¡APIã€WiFiå®šä½ç­‰å¤šç§æŠ€æœ¯ï¼Œæä¾›é«˜ç²¾åº¦ä½ç½®ä¿¡æ¯ã€‚",
  "author": "VCP Utility",
  "pluginType": "synchronous",
  "entryPoint": {
    "command": "node LocationFinder.js",
    "timeout": 30000
  },
  "communication": {
    "protocol": "stdio"
  },
  "configSchema": {
    "API_ENDPOINT": {
      "type": "string",
      "description": "ä¸»è¦IPåœ°ç†å®šä½APIç«¯ç‚¹ã€‚é»˜è®¤ä½¿ç”¨ ipapi.coã€‚",
      "default": "https://ipapi.co/json/"
    },
    "API_TIMEOUT": {
      "type": "integer",
      "description": "APIè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ã€‚",
      "default": 15000
    },
    "ENABLE_MULTI_SOURCE": {
      "type": "boolean",
      "description": "æ˜¯å¦å¯ç”¨å¤šæºæ•°æ®èåˆã€‚æ¨èå¯ç”¨ä»¥è·å¾—æœ€ä½³ç²¾åº¦ã€‚",
      "default": false
    },
    "MIN_CONFIDENCE_THRESHOLD": {
      "type": "number",
      "description": "æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0-1ï¼‰ã€‚å½“æŸä¸ªAPIçš„ç½®ä¿¡åº¦è¾¾åˆ°æ­¤å€¼æ—¶ï¼Œæå‰è¿”å›ç»“æœã€‚",
      "default": 0.6
    },
    "MAX_API_CALLS": {
      "type": "integer",
      "description": "å¤šæºæ¨¡å¼ä¸‹æœ€å¤šè°ƒç”¨çš„APIæ•°é‡ã€‚",
      "default": 3
    },
    "ENABLE_CACHE": {
      "type": "boolean",
      "description": "æ˜¯å¦å¯ç”¨æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿã€‚",
      "default": true
    },
    "CACHE_TTL": {
      "type": "integer",
      "description": "ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ã€‚",
      "default": 3600000
    },
    "AMAP_API_KEY": {
      "type": "string",
      "description": "é«˜å¾·åœ°å›¾APIå¯†é’¥ï¼Œæ”¯æŒIPã€WiFiã€GPSå®šä½ã€‚",
      "default": "e89469983d5dbc8dddc5466b4f72a6cd"
    },
    "GOOGLE_MAPS_API_KEY": {
      "type": "string",
      "description": "Google Maps Geolocation APIå¯†é’¥ï¼Œæ”¯æŒWiFiã€è“ç‰™ã€åŸºç«™å®šä½ã€‚"
    },
    "BAIDU_MAPS_API_KEY": {
      "type": "string",
      "description": "ç™¾åº¦åœ°å›¾APIå¯†é’¥ï¼Œå›½å†…WiFiã€GPSå®šä½æœåŠ¡ã€‚"
    },
    "IPINFO_TOKEN": {
      "type": "string",
      "description": "IPinfo.io APIè®¿é—®ä»¤ç‰Œã€‚"
    },
    "ENABLE_PERFORMANCE_MONITORING": {
      "type": "boolean",
      "description": "æ˜¯å¦å¯ç”¨æ€§èƒ½ç›‘æ§ã€‚",
      "default": true
    }
  },
  "capabilities": {
    "invocationCommands": [
      {
        "command": "getCurrentLocation",
        "description": "è·å–è®¾å¤‡çš„é«˜ç²¾åº¦åœ°ç†ä½ç½®ä¿¡æ¯ã€‚\n\n**ğŸš€ æ ¸å¿ƒåŠŸèƒ½:**\n- ğŸ¯ **å¤šæºèåˆå®šä½**: æ•´åˆIPã€WiFiã€GPSã€åŸºç«™ç­‰å¤šç§å®šä½æŠ€æœ¯\n- ğŸ—ºï¸ **åœ°å›¾æœåŠ¡ä¼˜å…ˆ**: æ”¯æŒé«˜å¾·åœ°å›¾ã€Google Mapsã€ç™¾åº¦åœ°å›¾API\n- ğŸ§  **æ™ºèƒ½APIé€‰æ‹©**: åŸºäºç½®ä¿¡åº¦å’Œæ€§èƒ½åŠ¨æ€é€‰æ‹©æœ€ä¼˜API\n- ğŸ“Š **ç²¾åº¦è¯„ä¼°ç³»ç»Ÿ**: æä¾›æ•°å€¼åŒ–çš„ç½®ä¿¡åº¦å’Œç²¾åº¦è¯„ä¼°\n- ğŸ”„ **æ™ºèƒ½ç¼“å­˜**: æœ¬åœ°ç¼“å­˜å‡å°‘é‡å¤è¯·æ±‚ï¼Œæé«˜å“åº”é€Ÿåº¦\n- ğŸ“ˆ **æ€§èƒ½ç›‘æ§**: å®æ—¶ç›‘æ§APIæ€§èƒ½å’ŒæˆåŠŸç‡\n- ğŸ›¡ï¸ **æ•…éšœè½¬ç§»**: å¤šå±‚å¤‡é€‰APIç¡®ä¿æœåŠ¡ç¨³å®šæ€§\n\n**ğŸ—ï¸ æŠ€æœ¯æ¶æ„:**\n1. **ä¼˜å…ˆçº§1**: åœ°å›¾æœåŠ¡APIï¼ˆé«˜å¾·/Google/ç™¾åº¦ï¼‰\n2. **ä¼˜å…ˆçº§2**: å¤šæºIPå®šä½APIèåˆ\n3. **ä¼˜å…ˆçº§3**: å•ä¸€IPå®šä½API\n4. **ç¼“å­˜ç³»ç»Ÿ**: æ™ºèƒ½ç¼“å­˜å’Œè¿‡æœŸç®¡ç†\n5. **æ€§èƒ½ç›‘æ§**: APIæ€§èƒ½ç»Ÿè®¡å’Œä¼˜åŒ–å»ºè®®\n\n**ğŸ“ å®šä½ç²¾åº¦:**\n- åœ°å›¾æœåŠ¡API: 10-100ç±³ç²¾åº¦\n- IPå®šä½: åŸå¸‚çº§ç²¾åº¦\n- å¤šæºèåˆ: æ˜¾è‘—æé«˜å‡†ç¡®æ€§\n- å“åº”æ—¶é—´: é€šå¸¸1-5ç§’\n\n**ğŸ›ï¸ å‚æ•°è¯´æ˜:**\n1. `tool_name`:ã€Œå§‹ã€LocationFinderã€Œæœ«ã€ (å¿…éœ€)\n2. `command`:ã€Œå§‹ã€getCurrentLocationã€Œæœ«ã€ (å¿…éœ€)\n\n**âœ… æˆåŠŸè¿”å›ç¤ºä¾‹:**\nå¤šæºèåˆå®šä½æˆåŠŸç¤ºä¾‹ï¼š\n```json\n{\n  \"status\": \"success\",\n  \"result\": {\n    \"latitude\": 30.274085,\n    \"longitude\": 120.15507,\n    \"city\": \"æ­å·å¸‚\",\n    \"province\": \"æµ™æ±Ÿçœ\",\n    \"country\": \"ä¸­å›½\",\n    \"location_type\": \"multi_source_fusion\",\n    \"source\": \"multi_source_fusion\",\n    \"_metadata\": {\n      \"source_api\": \"Multi-source (3 APIs)\",\n      \"timestamp\": \"2025-08-10T17:33:00.251Z\",\n      \"confidence\": \"high\",\n      \"confidence_score\": 0.85,\n      \"accuracy_notes\": [\n        \"åŸºäº3ä¸ªæ•°æ®æºèåˆ\",\n        \"æºAPI: amap_ip, ipwho.is, ipinfo.io\",\n        \"èåˆç½®ä¿¡åº¦: 85.0%\"\n      ],\n      \"individual_results\": [\n        {\n          \"source\": \"amap_ip\",\n          \"confidence\": 0.8,\n          \"confidence_level\": \"medium\"\n        },\n        {\n          \"source\": \"ipwho.is\",\n          \"confidence\": 0.75,\n          \"confidence_level\": \"medium\"\n        }\n      ]\n    },\n    \"_usage_note\": \"å¤šæºåœ°ç†ä½ç½®å®šä½æœåŠ¡ã€‚æ”¯æŒIPã€WiFiã€GPSç­‰å¤šç§å®šä½æ–¹å¼ï¼Œæä¾›é«˜ç²¾åº¦ä½ç½®ä¿¡æ¯ã€‚\",\n    \"_performance\": {\n      \"totalRequests\": 15,\n      \"successfulRequests\": 12,\n      \"failedRequests\": 3,\n      \"successRate\": \"80.00%\",\n      \"cacheHitRate\": \"75.00%\"\n    }\n  }\n}\n```\n\n**âš™ï¸ ä¸»è¦é…ç½®é€‰é¡¹:**\n- `ENABLE_MULTI_SOURCE`: å¯ç”¨å¤šæºæ•°æ®èåˆï¼ˆå¼ºçƒˆæ¨èï¼‰\n- `MIN_CONFIDENCE_THRESHOLD`: ç½®ä¿¡åº¦é˜ˆå€¼è®¾ç½®\n- `MAX_API_CALLS`: æœ€å¤§APIè°ƒç”¨æ•°é‡æ§åˆ¶\n- `ENABLE_CACHE`: æ™ºèƒ½ç¼“å­˜å¼€å…³\n- `AMAP_API_KEY`: é«˜å¾·åœ°å›¾APIå¯†é’¥\n- `GOOGLE_MAPS_API_KEY`: Google Maps APIå¯†é’¥\n- `BAIDU_MAPS_API_KEY`: ç™¾åº¦åœ°å›¾APIå¯†é’¥\n\n**ğŸ”§ ç‰¹æ®Šå‘½ä»¤:**\n- `getMetrics`: è·å–æ€§èƒ½ç»Ÿè®¡æ•°æ®\n- `clearCache`: æ¸…ç†ç¼“å­˜æ•°æ®\n- `getConfig`: è·å–å½“å‰é…ç½®ä¿¡æ¯\n\n**ğŸ’¡ ä½¿ç”¨å»ºè®®:**\n- å¯ç”¨å¤šæºèåˆæ¨¡å¼è·å¾—æœ€ä½³ç²¾åº¦\n- é…ç½®å¤šä¸ªåœ°å›¾æœåŠ¡APIæé«˜å¯é æ€§\n- æ ¹æ®ä½¿ç”¨åœºæ™¯è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼\n- å®šæœŸæ£€æŸ¥æ€§èƒ½æ•°æ®ä¼˜åŒ–APIé€‰æ‹©",
        "example": "<<<[TOOL_REQUEST]>>>\ntool_name:ã€Œå§‹ã€LocationFinderã€Œæœ«ã€,\ncommand:ã€Œå§‹ã€getCurrentLocationã€Œæœ«ã€\n<<<[END_TOOL_REQUEST]>>>"
      }
    ]
  }
}